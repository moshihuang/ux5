<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>CTBC</title>
  <link rel="stylesheet" href="../../../../inc/bundle_lib.css">
  <link rel="stylesheet" href="../../../../inc/bundle_base.css">
  <link rel="stylesheet" href="../../../../inc/bundle_base_2023.css">
  <link rel="stylesheet" href="../../../../ctbc_css/ctbc.css">
  <link rel="stylesheet" href="../../../../ctbc_css/virtualKeyboard.css">
  <link rel="stylesheet" href="../../../../index.css">
  <script type="text/javascript" src="../../../../inc/bundle_lib.js"></script>
  <script type="text/javascript" src="../../../../inc/bundle_base.js"></script>
  <style>    

  </style>
</head>
<!-- 以上供 dev 快速瀏覽樣式，開發時請拉掉 -->

<body class="vi-bg-mint-only">
  
  <!-- demo 用 header 開發時請拉掉 -->
  <!-- import { HeaderComponent } from 'app/mb/header/header.component' -->
  <!-- search <ng-template #headerLinks> -->
  <header class="">
    <div class="container-header vi-page-header-normal">
      <div class="vi-page-header-lt">
        <a class="vi-btn" ontouchstart="" href="twrbm-home-qu055-010.html">
          <span class="vi-icon vi-icon-base icon-page-back"></span>
        </a>
      </div>
      <div class="vi-page-header-ct">
        <h1 class="vi-page-title">新增/編輯常用功能</h1>
      </div>
      <div class="vi-page-header-rt">
        <a class="btn vi-txt-btn vi-txt-body-bold vi-txt-g500" href="twrbm-home-qu055-010.html">儲存</a>
      </div>
    </div>
  </header>
  <!-- demo 用 header 開發時請拉掉 -->


  <!-- EBMW content from here -->
  <div class="body-wrap scroll vi-bg-mint">

    <!-- add .pad_btm0 -->
    <div class="main_container pad_btm0">
      
      <!-- toast, 參考 /ui-2022/toast/ctbc-mb-toast.widget -->
      <div class="toast">
        <span>已達新增上限</span>
      </div>
      
      <div class="allfunction-sortable-wrap">
        <div class="vi-container">

          <!-- 上方區塊 -->
          <div class="sortable-block">
            <!-- 上方可拖拉區塊 -->
            <div class="vi-txt-callout vi-txt-b600 pad_top24 mb12 sortable-block-title">可新增 5 個功能，長按可調整順序。</div>
            <!-- id 是 demo 用的，開發請拉掉 -->
            <div id="sortableDemo" class="sortable-wrap">
              <!-- 固定四顆 加 .static-item .disabled -->
              <div class="item static-item disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/book-bill-40px-g.svg">
                </div>
                <div class="name vi-txt-callout vi-txt-b600">臺幣轉帳</div>
              </div>
              <div class="item static-item disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="name vi-txt-callout vi-txt-b600">社群收款</div>
              </div>
              <div class="item static-item disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="name vi-txt-callout vi-txt-b600">無卡提款</div>
              </div>
              <div class="item static-item disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="name vi-txt-callout vi-txt-b600">繳費捐款</div>
              </div>
              <!-- 可以抓取的 加 .item, 有設定的加 .selected ,空值的 加 .empty, .disabled 變不能抓取 -->
              <div class="item selected" data-id="2">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="action remove">
                  <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                </div>
                <div class="name vi-txt-callout vi-txt-b600">中信錢包1111111</div>
              </div>
              <div class="item selected" data-id="3">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="action remove">
                  <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                </div>
                <div class="name vi-txt-callout vi-txt-b600">臺幣活存明細</div>
              </div>
              <div class="item empty disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="action remove">
                  <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                </div>
                <div class="name vi-txt-callout vi-txt-b600"></div>
              </div>
              <div class="item empty disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="action remove">
                  <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                </div>
                <div class="name vi-txt-callout vi-txt-b600"></div>
              </div>
              <div class="item empty disabled" data-id="">
                <div class="img">
                  <img src="../../../../inc/img/icon/star-g.svg">
                </div>
                <div class="action remove">
                  <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                </div>
                <div class="name vi-txt-callout vi-txt-b600"></div>
              </div>
            </div>
          </div>
          

          <!-- 下方所有功能 -->
          <div class="vi-row">
            <div class="cus-all-function-block">
              <div class="vi-card pad_top24 pad_btm24 mb0">
                <div class="vi-container">
                  <div class="dis-flex align-items-center mb16 cus-all-function-block-title">
                    <div class="vi-line-title vi-txt-b900">請選擇想加入的常用功能
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <span id="trigger-modal" class="vi-icon vi-icon-xs icon-info-mark-g ml4"></span>
                    </div>
                  </div>
                </div>


                <!-- 這裡可參考 全功能總覽 twrbm-home-qu056-010.component.html，行為事件 anchor 邏輯相同，唯下方 fixed-position 高度與 class 不同 -->
                <div class="tab-wrap pl12 pr12">
                  <!-- 這裡有 fixed 事件, fixed-top fixed-position-1 要改 fixed-top fixed-position-cus-function -->
                  <div class="nav-scroll js_scroll_fixed_top">
                    <ul class="vi-tab js_anchor_tab">
                      <li class="vi-tab-item active" data-href="#cate-0">
                        <a class="vi-tab-link">
                          <span>熱門常用</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-1">
                        <a class="vi-tab-link">
                          <span>臺幣</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-2">
                        <a class="vi-tab-link">
                          <span>信用卡</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-3">
                        <a class="vi-tab-link">
                          <span>外幣</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-4">
                        <a class="vi-tab-link">
                          <span>投資</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-5">
                        <a class="vi-tab-link">
                          <span>貸款</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-6">
                        <a class="vi-tab-link">
                          <span>點數/優惠</span>
                        </a>
                      </li>
                      <li class="vi-tab-item" data-href="#cate-7">
                        <a class="vi-tab-link">
                          <span>保險</span>
                        </a>
                      </li>
                    </ul>
                  </div>
                    
                  <div class="tab-content pad_top24">
                    <div id="tab1-1" class="tab-pane active" role="tabpanel" data-scroll-to-this="2">
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-0" class="tab-pane-wrap">
                        <div class="item" data-id="1">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">基金定期(不)定額查詢</div>
                        </div>
                        <!-- 已設定的 加 .selected -->
                        <div class="item selected" data-id="2">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <!-- 已設定的 .add 改 .remove  裡面的 icon class 不同 -->
                          <div class="action remove">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">中信錢包1111111</div>
                        </div>
                        <div class="item selected" data-id="3">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <!-- 已設定的 .add 改 .remove  裡面的 icon class 不同 -->
                          <div class="action remove">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">臺幣活存明細</div>
                        </div>
                        <div class="item" data-id="4">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">信用卡概要</div>
                        </div>
                        <div class="item" data-id="5">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">帳單明細</div>
                        </div>
                        <div class="item" data-id="6">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">繳信用卡費</div>
                        </div>
                        <div class="item" data-id="7">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">未出帳單明細</div>
                        </div>
                        <div class="item" data-id="8">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">任務牆</div>
                        </div>
                        <div class="item" data-id="9">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">帳戶資訊分享</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">臺幣</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-1" class="tab-pane-wrap">
                        <div class="item" data-id="11">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">臺幣存款概要</div>
                        </div>
                        <div class="item" data-id="3">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">臺幣活存明細</div>
                        </div>
                        <div class="item" data-id="13">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">收支管理</div>
                        </div>
                        <div class="item" data-id="14">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">預約轉帳查詢</div>
                        </div>
                        <div class="item" data-id="15">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">金融卡卡片管理</div>
                        </div>
                        <div class="item" data-id="16">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">薪轉戶專區</div>
                        </div>
                        <div class="item" data-id="17">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">繳費紀錄查詢</div>
                        </div>
                        <div class="item" data-id="18">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">方便轉明細查詢</div>
                        </div>
                        <div class="item" data-id="19">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">臺幣定存查詢</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">信用卡</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-2" class="tab-pane-wrap">
                        <div class="item" data-id="21">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">信用卡概要</div>
                        </div>
                        <div class="item" data-id="22">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">即時消費紀錄查詢</div>
                        </div>
                        <div class="item" data-id="23">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">未出帳單明細</div>
                        </div>
                        <div class="item" data-id="24">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">分期未到期明細</div>
                        </div>
                        <div class="item" data-id="25">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">帳單明細</div>
                        </div>
                        <div class="item" data-id="26">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">繳信用卡費</div>
                        </div>
                        <div class="item" data-id="27">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">年消費金額查詢</div>
                        </div>
                        <div class="item" data-id="28">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">信用卡繳款記錄</div>
                        </div>
                        <div class="item" data-id="29">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">點數與哩程概要</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">外幣</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-3" class="tab-pane-wrap">
                        <div class="item" data-id="21">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">外幣存款概要</div>
                        </div>
                        <div class="item" data-id="22">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">換匯/外幣轉帳</div>
                        </div>
                        <div class="item" data-id="23">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">匯率查詢試算</div>
                        </div>
                        <div class="item" data-id="24">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">外幣活存明細</div>
                        </div>
                        <div class="item" data-id="25">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">換匯紀錄</div>
                        </div>
                        <div class="item" data-id="26">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">匯率通知設定</div>
                        </div>
                        <div class="item" data-id="27">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">活存轉定存</div>
                        </div>
                        <div class="item" data-id="28">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">帳戶資訊分享</div>
                        </div>
                        <div class="item" data-id="29">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">利率查詢</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">投資</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-4" class="tab-pane-wrap">
                        <div class="item" data-id="41">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">投資概要</div>
                        </div>
                        <div class="item" data-id="42">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="43">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="44">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="45">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="46">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="47">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="48">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="49">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">貸款</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-5" class="tab-pane-wrap">
                        <div class="item" data-id="51">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">貸款概要</div>
                        </div>
                        <div class="item" data-id="52">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="53">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="54">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="55">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="56">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="57">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="58">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="59">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">點數/優惠</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-6" class="tab-pane-wrap">
                        <div class="item" data-id="61">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="62">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="63">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="64">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="65">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="66">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="67">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                      </div>
                      
                      <div class="vi-dashed-divider"></div>
                      
                      <div class="vi-txt-body-bold vi-txt-b900 mt24 mb16">保險</div>
                      
                      <!-- id 是 demo 用的，開發請拉掉 -->
                      <div id="cate-7" class="tab-pane-wrap">
                        <div class="item" data-id="71">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="72">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="73">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="74">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="75">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="76">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                        <div class="item" data-id="77">
                          <div class="img">
                            <img src="../../../../inc/img/icon/star-g.svg">
                          </div>
                          <div class="action add">
                            <div class="vi-icon vi-icon-xs vi-icon-circle-add-g"></div>
                          </div>
                          <div class="name vi-txt-callout vi-txt-b600">Text text</div>
                        </div>
                      </div>
                      
                    </div>
      
                  </div><!-- /tab-content -->

                </div>
                  
              </div>
            </div>
          </div>

        </div>
      </div>

      <div id="extendBlock" class="bg_white position-relative z-index-2"></div>
    </div>
  </div>
  <!-- main_container -->
</body>
<!-- body-wrap -->

</html>


<!-- vi-modal popup 現有版型 這裡僅示意，可參考 ctbc-mb-alert.widget -->
<!-- id 是 demo 用的，開發請拉掉 -->
<div id="target-modal" class="vi-modal">
  <div class="vi-modal-backdrop"></div>
  <div class="popup">
    <div class="popup-header">
      <div class="popup-header-ct">
        <span class="popup-title">說明</span>
      </div>
    </div>
    <div class="popup-body">
      <div class="vi-txt-body vi-txt-b600 mb24">1 台手機只能設定 1 組常用功能，如果您有與其他人共用手機，那麼當其他共用者使用自己的 ID 帳號登入，並更改常用設定時，就會同步變更你原先的設定。</div>
    </div>
    <div class="popup-footer">
      <div class="vi-btn-group">
        <div class="vi-btn vi-btn-primary">我知道了</div>
      </div>
    </div>
  </div>
</div>


<!-- js event demo code, 開發請拉掉 -->
<script>
new Sortable(sortableDemo, {
	swap: true,
	swapClass: 'highlight',
	animation: 150,
  filter: '.disabled',
});

// scroll fixed header
let scrollObject = {};
window.onscroll = setScrollPosition;

function setScrollPosition(){
  scrollObject = {
    x: window.pageXOffset,
    y: window.pageYOffset
  }
  
  if (scrollObject.y > 0) {
    document.getElementsByTagName('body')[0].classList.add('vi-page-header-fix');
  }
  else {
    document.getElementsByTagName('body')[0].classList.remove('vi-page-header-fix');
  }
}


$(document).ready(function(){
  
  // modal demo
  $('#trigger-modal').on('click', function() {
    $('#target-modal').toggleClass('vi-modal-in');
  });
  
  // modal close demo，關閉時的動態效果依照現行
  $('.vi-modal .popup-footer .vi-btn').on('click', function() {
    $(this).closest('.vi-modal').toggleClass('vi-modal-in');
    $('body').removeClass('modal-open');
  });
  
  // auto srcoll right within selected item more than 3
  function moveScrollRight() {
    if ($('.sortable-wrap').find('.item.selected').length > 3) {
      $('.sortable-wrap').stop().animate({
        scrollLeft: "+=120px"
      }, 400);
    };
  }
  
  // auto scroll left within selected item less than 3
  function moveScrollLeft() {
    if ($('.sortable-wrap').find('.item.selected').length < 3) {
      $('.sortable-wrap').stop().animate({
        scrollLeft: "-=120px"
      }, 400);
    }
  }
  
  let elSortable = $('.sortable-block').height();
      // 123 是 $('.sortable-block').height() - fixed 時的高度
  let fixedGap = $('.sortable-block').height() - 123;
  let htmlScroll = $('html').scrollTop();
      // 這個數值要再測試一下有瀏海手機會不會有問題
  let elAllFunctionGap = $('.cus-all-function-block').offset().top - 56;
  
  function changeFixedGap() {
    if ( $('.sortable-block').hasClass('fixed') ) {
      $('.cus-all-function-block').css('padding-top', elAllFunctionGap );
    }
  }
  
  function fixedEvent() {
    let htmlScroll = $('html').scrollTop();
    let elAllFunctionGap = $('.cus-all-function-block').offset().top - 46;
    
    if ( $('.cus-all-function-block').height() < $(window).height() - 123 ) {
      return false;
    }
    
    if (htmlScroll == 0) {
      $('.sortable-block, .sortable-wrap, .cus-all-function-block').removeClass('fixed');
      $('.sortable-wrap .selected').removeClass('disabled');
      $('.cus-all-function-block .nav-scroll').removeClass('fixed-position fixed-position-cus-function');
      $('.sortable-block-title').removeClass('padx_12');
      $('.sortable-block-title').removeClass('dis-none');
      $('.cus-all-function-block').css('padding-top', 0 );
    }
    else if ( !$('.sortable-block').hasClass('fixed') && htmlScroll > fixedGap) {
      $('.sortable-block, .sortable-wrap, .cus-all-function-block').addClass('fixed');
      $('.sortable-wrap .selected').addClass('disabled');
      $('.cus-all-function-block .nav-scroll').addClass('fixed-position fixed-position-cus-function');
      $('.sortable-block-title').addClass('padx_12');
      $('.sortable-block-title').addClass('dis-none');
      $('.cus-all-function-block').css('padding-top', elAllFunctionGap );
      
      changeFixedGap();
    }
    else if ( $('.sortable-block').hasClass('fixed') && htmlScroll <= fixedGap) {
      $('.sortable-block, .sortable-wrap, .cus-all-function-block').removeClass('fixed');
      $('.sortable-wrap .selected').removeClass('disabled');
      $('.cus-all-function-block .nav-scroll').removeClass('fixed-position fixed-position-cus-function');
      $('.sortable-block-title').removeClass('padx_12');
      $('.sortable-block-title').removeClass('dis-none');
      $('.cus-all-function-block').css('padding-top', 0 );

      changeFixedGap();
    }
  }
  
  
  // scroll event for tab 
  // tab 邏輯同現行小針全站 可參考 全功能總覽
  let clickTab = false;
  
  function detectTabAnchor() {
    let active = null;
    let scrollPostion = $('html').scrollTop();
    
    if ( clickTab == true ) {
      return;
    }
    
    $('.tab-pane-wrap').each(function(i) {
      const container = document.querySelector('.main_container');
      if (!container) {
        return;
      }
      const contentHeight = container.scrollHeight - window.innerHeight;
      
      let selfPosition = $(this).offset().top ;
      let anchorTab = Array.from(document.querySelectorAll('.js_anchor_tab li'));
      let targets = document.querySelectorAll('.tab-pane-wrap');

      for (let i = 0; i < targets.length; i++) {
        if (scrollPostion >= targets[i]['offsetTop'] + 270) {
          anchorTab.forEach((old) => {
            old.classList.remove('active');
          });
          let left = anchorTab[i]['offsetLeft'] - 12;
          anchorTab[i].classList.add('active');
          document.querySelector('.js_anchor_tab').scrollTo(left, 0);
        }
      }

      if (anchorTab.length > 0) {
        if (scrollPostion >= contentHeight) {
            anchorTab.forEach(function(old) {
              old.classList.remove('active');
            })
            anchorTab[anchorTab.length - 1].classList.add('active');
        }
      }

    });
  }
  
  // tab click event and scrollTop animate
  $('.vi-tab-item').on('click', function(e) {
    e.preventDefault();
    clickTab = true;
    
    let id = $(this).attr('data-href');
    let $id = $(id);
    let pos = 0;
    
    if ($id.length === 0) {
      return;
    }

    setTimeout(() => {
      $(this).addClass('active').siblings().removeClass('active');
    }, 200);
    
    if (id == '#cate-0') {
      pos = $id.offset().top - 234;
    }
    else {
      pos = $id.offset().top - 264;
    }

    e.stopPropagation();
    
    $('body, html').animate({
      scrollTop: pos
    }, 200);
    
    setTimeout(() => {
      clickTab = false;
    }, 300);

  });


  $(window).scroll(function() {
    fixedEvent();
    detectTabAnchor();
  });
  
  fixedEvent();


  // remove from sortable-wrap
  $('body').on('touchstart', '.sortable-wrap .item.selected .remove', function(e){
    e.preventDefault();
    let deleteID = $(this).closest('.item').attr('data-id');

    $(this).closest('.item').removeClass('selected').addClass('empty disabled');
    $(this).closest('.img img').attr('src', '');
    $(this).siblings('.name').text('');
    $(this).closest('.item').insertAfter($('.sortable-wrap .item:last'));

    // 同步下方區塊
    $('.cus-all-function-block .item').each(function(e) {
      let selfID = $(this).attr('data-id');
      
      if (deleteID == selfID) {
        $(this).removeClass('selected');
        $(this).find('.action').removeClass('remove').addClass('add');
        $(this).find('.action .vi-icon').removeClass('vi-icon-circle-remove-r').addClass('vi-icon-circle-add-g');
      }
    });
    
    moveScrollLeft();
    changeFixedGap();
  });


  // remove from cus-all-function-block
  $('body').on('click', '.cus-all-function-block .item .remove', function(e){
    e.preventDefault();
    let deleteID = $(this).closest('.item').attr('data-id');
    
    $(this).closest('.item').removeClass('selected');
    $(this).closest('.img img').attr('src', '');
    $(this).closest('.name').text('');
    $(this).closest('.item').find('.action').removeClass('remove').addClass('add');
    $(this).closest('.item').find('.action .vi-icon').removeClass('vi-icon-circle-remove-r').addClass('vi-icon-circle-add-g');

    // 同步上方區塊
    $('.sortable-wrap .item').each(function(e) {
      let selfID = $(this).attr('data-id');

      if (deleteID == selfID) {
        $(this).removeClass('selected').addClass('empty disabled');
        $(this).find('.img img').attr('src', '../inc/img/icon/star-g.svg');
        $(this).find('.name').text('');
        $(this).find('.action').removeClass('add').addClass('remove').html('<div class="vi-icon vi-icon-xs vi-icon-circle-remove-r"></div>');
        $(this).insertAfter($('.sortable-wrap .item:last'));
      }
    });
    
    moveScrollLeft();
    changeFixedGap();
  });


  // add from cus-all-function-block to sortable-wrap
  $('body').on('click', '.cus-all-function-block .item:not(.selected)', function(){
    let addID = $(this).closest('.item').attr('data-id');
    let checkLen = $('.sortable-wrap').find('.item.selected').length;
    
    if (checkLen <= 4) {
      $(this).addClass('selected');
      $(this).find('.action').removeClass('add').addClass('remove');
      $(this).find('.action .vi-icon').removeClass('vi-icon-circle-add-g').addClass('vi-icon-circle-remove-r');

      // 同步上方區塊
      if ( $('.sortable-wrap').hasClass('fixed') ) {
        $(this).clone().addClass('selected disabled').insertBefore($('.sortable-wrap .item.empty:first'));
      }
      else {
        $(this).clone().addClass('selected').insertBefore($('.sortable-wrap .item.empty:first'));
      }
      
      $('.sortable-wrap .item.empty:last').remove();
      
      $('.sortable-wrap .item.empty:first').each(function(e) {
        let selfID = $(this).attr('data-id');
        
        if (addID == selfID) {
          $(this).find('.action').removeClass('remove').addClass('add');
          $(this).find('.action .vi-icon').removeClass('vi-icon-circle-remove-r').addClass('vi-icon-circle-add-g');
        }
      });
      
      // 同步 fixed 區塊
      $(this).clone().addClass('selected').insertBefore($('.fixed-sortable-block .item.empty:first'));

      moveScrollRight();
      changeFixedGap();
    }
    
    // 超過
    if (checkLen == 5) {
      // show toast
      $('.toast').addClass('show');

      setTimeout(function() { 
        $('.toast').removeClass('show');
      }, 3000);
    }
  });

});
</script>